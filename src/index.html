<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>ProyectoWeb2App</title>
  <base href="/">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="icon" type="image/x-icon" href="favicon.ico">
  <link rel="preconnect" href="https://fonts.gstatic.com">
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
  <style>
    table {
      width: 70%;
      margin-top: 20px;
      margin-left: 15%;
    }

    th, td {
      padding: 8px;
    }

    .mat-elevation-z8 {
      box-shadow: 0px 3px 6px rgba(0, 0, 0, 0.16);
    }

    .btn {
      margin-bottom: 20px;
    }

    .mat-cell {
      text-align: center;
    }

    .mat-header-cell {
      text-align: center;
      background-color: #299980; /* Color del encabezado */
      color: white; /* Texto en color blanco para contraste */
      padding: 10px; /* Espaciado interior */
    }

    .mat-header-row {
      background-color: #f2f2f2;
    }

    .mat-row:hover {
      background-color: #f1f1f1;
    }

    .img-preview {
      max-width: 100%;
      height: auto;
      margin-top: 10px;
      display: block; /* Asegura que la imagen está visible */
      margin: 10px auto; /* Centra la imagen horizontalmente */
    }
  </style>
</head>
<body>
  <p style="font-size: 20px; text-align: center; margin-top: 20px;margin-bottom: 20px;">Objetos perdidos</p>
  

  <div class="d-flex justify-content-center">
    <button style= "background-color: #94CD90; width: 10%;" type="button" class="btn" data-bs-toggle="modal" data-bs-target="#addModal">Agregar</button>
  </div>
  
  <mat-form-field>
    <mat-label style="margin-left: 15%;">Filter</mat-label>
    <input matInput (keyup)="applyFilter($event)" placeholder="Ex. ium" #input />
  </mat-form-field>
</br>
<div style="margin-left: 15%;" class="mt-2">
  <form>
    <label for="estado">Estado:</label>
    <input type="radio" id="sin-entregar" name="estado" value="sin-entregar">
    <label for="sin-entregar">Sin Entregar</label>
    <input type="radio" id="entregado" name="estado" value="entregado">
    <label for="entregado">Entregado</label>
  </form>
</div>

  <table style="background-color: #299980; color: #f1f1f1; text-align: center;" mat-table [dataSource]="dataSource" class="mat-elevation-z8">
    <!-- id Column -->
    <ng-container matColumnDef="image">
      <th mat-header-cell *matHeaderCellDef>imagen</th>
      <th mat-header-cell *matHeaderCellDef></th>
      <td mat-cell *matCellDef="let element"></td>
    </ng-container>

    <!-- nombre Column -->
    <ng-container matColumnDef="name">
      <th mat-header-cell *matHeaderCellDef>Articulo</th>
      <td mat-cell *matCellDef="let element"></td>
    </ng-container>

    <!-- nombre categoria -->
    <ng-container matColumnDef="category">
      <th mat-header-cell *matHeaderCellDef>Categoría</th>
      <td mat-cell *matCellDef="let element"></td>
    </ng-container>

    <!-- lugar Column -->
    <ng-container matColumnDef="place">
      <th mat-header-cell *matHeaderCellDef>Dónde</th>
      <td mat-cell *matCellDef="let element"></td>
    </ng-container>

    <!-- acciones Column -->
    <ng-container matColumnDef="acciones">
      <th mat-header-cell *matHeaderCellDef>Acciones</th>
      <td mat-cell *matCellDef="let element">
        <!-- <button mat-button color="accent" (click)="abrirDialog(element)">
          Modificar
        </button>
        <button mat-button color="warn" (click)="eliminar(element.id)">
          Eliminar
        </button> -->
      </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>


  </table>
  <tr class="mat-row" *matNoDataRow>
    <td class="mat-cell" colspan="5"><p style="margin-left: 15%;">  No data matching the filter.</p>
    
    </td>
  </tr>

  
  <!-- Modal -->
  <div class="modal fade" id="addModal" tabindex="-1" aria-labelledby="addModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title w-100 text-center" id="addModalLabel">Agregar Objeto Perdido</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <div class="mb-3">
            <label for="item-image" class="form-label">Imagen</label>
            <input type="file" class="form-control" id="item-image" accept="image/*" onchange="previewImage(event)">
            <img id="image-preview" class="img-preview" src="#" alt="Vista previa de la imagen" style="display: none;">
            <button type="button" class="btn btn-danger mt-2" onclick="removeImage()">Eliminar imagen</button>
          </div>
          <div class="mb-3">
            <label for="item-name" class="form-label">Nombre del Artículo</label>
            <input type="text" class="form-control" id="item-name">
          </div>
          <div class="mb-3">
            <label for="item-category" class="form-label">Categoría</label>
            <input type="text" class="form-control" id="item-category">
          </div>
          <div class="mb-3">
            <label for="item-location" class="form-label">Dónde se encontró</label>
            <input type="text" class="form-control" id="item-location">
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
          <button type="button" class="btn"style="background-color: #299980; color: #f1f1f1; text-align: center;">Guardar</button>
        </div>
      </div>
    </div>
  </div>
  
  <script>
    function previewImage(event) {
      const input = event.target;
      const preview = document.getElementById('image-preview');
      const reader = new FileReader();
      
      reader.onload = function() {
        preview.src = reader.result;
        preview.style.display = 'block';
        preview.style.maxWidth = '200px'; // Define el tamaño de la imagen
        preview.style.height = 'auto';
        preview.style.margin = '10px auto'; // Centra la imagen horizontalmente
      }
      
      if (input.files && input.files[0]) {
        reader.readAsDataURL(input.files[0]);
      }
    }

    function removeImage() {
      const input = document.getElementById('item-image');
      const preview = document.getElementById('image-preview');
      input.value = '';
      preview.src = '#';
      preview.style.display = 'none';
    }

    const addModal = document.getElementById('addModal');
    addModal.addEventListener('hidden.bs.modal', function () {
      removeImage();
      document.getElementById('item-name').value = '';
      document.getElementById('item-category').value = '';
      document.getElementById('item-location').value = '';
    });
  </script>
</body>
</html>